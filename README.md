# KOIN_API
KOIN Community (ver. Spring Framework)

## Patch Notes

***version_1.0.0***

`Changes`
- Spring Framework Migration
- 카카오톡 코인 챗봇 서비스 추가

***version_1.0.1***

`Bug Fixes`
- CREATE, UPDATE API에서 HTTP 상태 코드를 200으로 반환하던 문제 수정 (200 -> 201)
- 커뮤니티에서 댓글 수가 업데이트되지 않던 문제 수정
- 분실물에서 댓글 수가 업데이트되지 않던 문제 수정
- 커뮤니티에서 권한을 확인 할 때 null 검사를 하지 않던 문제 수정
- 커뮤니티 게시글의 조회 수가 정상적으로 올라가지 않던 문제 수정
- 챗봇에서 버스 정보를 올바르게 파싱하지 못하던 문제 수정

***version_1.0.2***

`Bug Fixes`
- 주변 상점 반환 타입이 JSON 배열이 아닌 문자열이던 문제 수정

***version_1.0.3***

`Bug Fixes`
- 주변 상점 목록을 반환할 때 이미지 주소의 null 검사를 하지 않던 문제 수정

***version_1.0.4***

`Bug Fixes`
- 학식 API에서 쿼리 스트링이 올바른 날짜 포맷인지 검증하지 않던 문제 수정 (yyyyMMdd)

***version_1.0.5***

`Bug Fixes`
- 학식 API에서 쿼리 스트링의 날짜 포맷을 잘못 검증하던 문제 수정 (yyyyMMdd -> yyMMdd)
- 학식 API의 쿼리 스트링이 올바르지 않은 포맷일 경우에 잘못된 HTTP 상태 코드를 반환하던 문제 수정 (404 -> 412)

***version_1.0.6***

`Bug Fixes`
- 회원가입 인증 메일의 발신자가 올바르지 않던 문제 수정
- 회원가입 인증 메일의 제목이 공백이던 문제 수정

***version_1.1.0***

`Changes`
- 시간표 서비스 추가
- flyway 적용
- 에러 발생 시 슬랙으로 상세 내용을 전송하는 기능 추가
- 슬랙 익명 질문 커맨드 추가

`Bug Fixes`
- 페이지네이션에서 올바르지 않은 Limit과 Offset이 입력될 경우 에러가 발생하던 문제 수정
- validationQuery 추가

***version_1.2.0***

`Changes`
- 시간표의 버전 추가
- 서버 인프라 구조 변경에 따라 프로덕션의 Redis를 스테이지에서도 공용하도록 변경

***version_1.2.1***

`Bug Fixes`
- 복덕방에서 월세의 타입이 문자열이 아닌 실수형이던 문제 수정

***version_1.2.2***

`Bug Fixes`
- 커뮤니티에서 유저의 닉네임을 검사하지 않던 문제 수정

***version_1.2.3***

`Bug Fixes`
- 분실물에서 권한을 확인 할 때 null 검사를 하지 않던 문제 수정

***version_1.3.0***

`Changes`
- BCSD LAB 홈페이지 API 추가
- Bean Validation 일부 적용
- HTTP 상태 코드 422를 반환하는 ValidationException 클래스 추가
- 서버 인프라 구조 재변경에 따라 이전의 Redis 설정 제거

`Bug Fixes`
- 분실물에서 댓글을 삭제할 때 해당 게시글과 댓글이 존재하는지 검사하지 않던 문제 수정
- 분실물에서 게시글 또는 댓글이 존재하지 않을 경우 올바르지 않은 HTTP 상태 코드를 반환하던 문제 수정 (409 -> 404)
- 중고장터에서 게시글 또는 댓글이 존재하지 않을 경우 올바르지 않은 HTTP 상태 코드를 반환하던 문제 수정 (409 -> 404)
- 복덕방에서 주변 건물 또는 댓글이 존재하지 않을 경우 올바르지 않은 HTTP 상태 코드를 반환하던 문제 수정 (409 -> 404)
- 익명게시판에서 게시글 또는 댓글이 존재하지 않을 경우 올바르지 않은 HTTP 상태 코드를 반환하던 문제 수정 (409 -> 404)
- 분실물에서 핸드폰 번호를 기입하지 않을 경우 게시글 작성이 되지 않던 문제 수정
- 중고장터에서 핸드폰 번호를 기입하지 않을 경우 게시글 작성이 되지 않던 문제 수정
- 분실물에서 유저의 닉네임을 검사하지 않던 문제 수정
- 중고장터에서 유저의 닉네임을 검사하지 않던 문제 수정
- 분실물에서 삭제된 게시글에도 댓글 작성이 가능하던 문제 수정
- 중고장터에서 삭제된 게시글에도 댓글 작성이 가능하던 문제 수정
- 복덕방에서 삭제된 게시글에도 댓글 작성이 가능하던 문제 수정
- 분실물에서 올바르게 댓글이 수정 및 삭제되지 않던 문제 수정
- 중고장터에서 올바르게 댓글이 수정 및 삭제되지 않던 문제 수정
- 복덕방에서 올바르게 댓글이 수정 및 삭제되지 않던 문제 수정


***version_1.3.1***

`Bug Fixes`
- 학교 계정으로 회원가입을 시도할 때 올바른 아이디 형식인지 검증하는 정규식 추가

***version_1.3.2***

`Changes`
- 챗봇의 대성 고속 버스 시간표 업데이트

***version_1.3.3***

`Bug Fixes`
- 분실물과 중고장터에서 타입 수정이 가능하던 문제 수정 (팝니다 / 삽니다, 분실 / 습득)

***version_1.3.4***

`Bug Fixes`
- 조회 수 관련 로직을 변경하여 조회 수 조작이 가능하던 문제 수정
- 댓글 수가 정상적으로 업데이트되지 않던 문제 수정

***version_1.4.0***

`Changes`
- 인터셉터를 사용하여 유저 인증 분리
- 관리자용 API 추가
- 커스텀 Bean Serializer 추가
- 주변 상점에 조회 수 기능 추가

***version_1.4.1***

`Bug Fixes`
- 로그아웃할 때 아무런 작업도 수행하지 않던 문제 수정
- 닉네임 중복 확인을 수행할 때 중복될 경우 올바르지 않은 HTTP 상태 코드를 반환하던 문제 수정 (412 -> 409)

***version_1.4.2***

`Bug Fixes`
- Lucy XSS Filter을 커스텀하여 iframe 태그에서 위험하지 않은 주소도 필터링하던 문제 수정

***version_1.5.0***

`Changes`
- 유저의 권한을 확인할 수 있는 관리자용 API 추가

`Bug Fixes`
- 주변 상점의 전화번호를 검증하는 정규식이 잘못되어 있던 문제
- 복덕방의 이미지 주소를 올바르게 비직렬화하지 못하던 문제 수정
- 복덕방 관리자용 API에서 주변 건물이 존재하지 않을 경우 올바르지 않은 HTTP 상태 코드를 반환하던 문제 수정 (409 -> 404)

***version_1.5.1***

`Bug Fixes`
- 주변 상점 관리자용 API에서 주변 상점과 메뉴를 불러오는 API가 누락되어 있어 추가

***version_1.5.2***

`Bug Fixes`
- 주변 상점에서 배달료의 null 검사를 하지 않아 정상적으로 정보 업데이트가 되지 않던 문제 수정

***version_1.5.3***

`Bug Fixes`
- 인기 게시글을 반환할 때 댓글 수와 생성 일자 제거

***version_1.6.0***

`Changes`
- 메일 전송 방식을 SMTP에서 Amazon SES로 변경
- 썸네일 이미지 주소의 길이 제한 변경 (256 -> 512)

***version_1.6.1***

`Bug Fixes`
- 동아리의 이미지 주소를 올바르게 비직렬화하지 못하던 문제 수정

***version_1.6.2***

`Bug Fixes`
- 익명게시판에 이미지 업로드 API가 누락되어 있어 추가

***version_1.7.0***

`Changes`
- 카드 뉴스 API 추가
- 검색 서비스 추가
- 페이지네이션 DTO인 Criteria 클래스 추가

***version_1.7.1***

`Changes`
- GitLab에서 GitHub으로 프로젝트를 이전하기 위해 Open API의 서비스 키를 설정 파일로 분리

***version_1.7.2***

`Bug Fixes`
- Open API의 서비스 키를 설정 파일에서 불러오지 못하던 문제 수정

***version_1.7.3***

`Changes`
- 챗봇의 대성 고속 버스 시간표 업데이트

***version_1.8.0***

`Changes`
- 홍보게시판 서비스 추가
- 점주 관련 권한 추가
- 관리자용 API에서 에러가 발생할 경우 슬랙으로 파라미터도 같이 전송하도록 변경

`Bug Fixes`
- 게시글이 수정 및 삭제될 경우 검색 결과에는 반영되지 않던 문제 수정
- 권한을 확인할 때 올바르지 않은 요소를 보낼 경우에 에러 처리가 되어 있지 않던 문제 수정

***version_1.9.0***

`Changes`
- 시간표에 학기 선택 API 추가
- 학기 판별 API 추가 (학기 / 방학)

***version_1.9.1***

`Bug Fixes`
- 검색에서 검색어의 null 검사를 하지 않던 문제 수정
- 게시글의 수정 권한을 확인할 때 잘못된 키 이름을 검사하던 문제 수정

***version_1.9.2***

`Changes`
- 챗봇의 대성 고속 버스 시간표 업데이트

***version_1.10.0***

`Changes`
- 학기 판별 API 확장 (학기 / 계절학기 / 방학)
- Bean Validation 전체 적용
- 닉네임 글자수 제한 변경 (50 -> 10)
- 챗봇에서 계절학기와 방학의 버스 시간표도 제공하도록 변경
- JSON 직렬화 / 비직렬화 모듈이 올바르게 작동하지 않아 리팩토링


***version_2.0.0***

`Changes`
- 식단 명칭 변경
- 버스 API 수정 및 셔틀버스 최신화
- mongoDB 적용
